VPATH=../generic-tests
GCC=mips-linux-gnu-gcc -march=mips32r5
TESTS = $(wildcard ${VPATH}/*.c)
all:	$(TESTS:${VPATH}/%.c=%-dyn) $(TESTS:${VPATH}/%.c=%-stat) # $(TESTS:${VPATH}/%.c=%-el-dyn) $(TESTS:${VPATH}/%.c=%-el-stat)

# default is big endian
%-dyn:	%.c
	${GCC} $< -o $@
%-stat:	%.c
	${GCC} --static $< -o $@
# try making little endian
%-el-dyn:	%.c
	${GCC} -Wa,-EL $< -o $@
%-el-stat:	%.c
	${GCC} -Wa,-EL --static $< -o $@

clean:
	rm *-dyn
	rm *-stat
	